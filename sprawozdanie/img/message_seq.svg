<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="602px" preserveAspectRatio="none" style="width:648px;height:602px;background:#FFFFFF;" version="1.1" viewBox="0 0 648 602" width="648px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" fill-opacity="0.00000" height="348.5391" style="stroke:#000000;stroke-width:1.5;" width="631.2793" x="10" y="156.5625"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="231.4688" style="stroke:#000000;stroke-width:1.5;" width="611.2793" x="20" y="223.8281"/><g><title>User</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="440.8047" width="8" x="44.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="81.2969" y2="522.1016"/></g><g><title>GUI</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="440.8047" width="8" x="167.3374" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="170.7251" x2="170.7251" y1="81.2969" y2="522.1016"/></g><g><title>MessageService</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="440.8047" width="8" x="362.356" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="365.8057" x2="365.8057" y1="81.2969" y2="522.1016"/></g><g><title>Message</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="440.8047" width="8" x="496.7988" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="500.1191" x2="500.1191" y1="81.2969" y2="522.1016"/></g><g><title>Database</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="440.8047" width="8" x="580.8789" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="584.4785" x2="584.4785" y1="81.2969" y2="522.1016"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="30" y="77.9951">User</text><ellipse cx="48.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9551,21.5 L48.9551,48.5 M35.9551,29.5 L61.9551,29.5 M48.9551,48.5 L35.9551,63.5 M48.9551,48.5 L61.9551,63.5 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="30" y="534.0967">User</text><ellipse cx="48.9551" cy="545.8984" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9551,553.8984 L48.9551,580.8984 M35.9551,561.8984 L61.9551,561.8984 M48.9551,580.8984 L35.9551,595.8984 M48.9551,580.8984 L61.9551,595.8984 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39.2246" x="151.7251" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2246" x="158.7251" y="69.9951">GUI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39.2246" x="151.7251" y="521.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.2246" x="158.7251" y="541.0967">GUI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.1006" x="302.8057" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.1006" x="309.8057" y="69.9951">MessageService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.1006" x="302.8057" y="521.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.1006" x="309.8057" y="541.0967">MessageService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.3594" x="463.1191" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.3594" x="470.1191" y="69.9951">Message</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.3594" x="463.1191" y="521.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.3594" x="470.1191" y="541.0967">Message</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="548.4785" y="77.9951">Database</text><path d="M566.8789,29 C566.8789,19 584.8789,19 584.8789,19 C584.8789,19 602.8789,19 602.8789,29 L602.8789,55 C602.8789,65 584.8789,65 584.8789,65 C584.8789,65 566.8789,65 566.8789,55 L566.8789,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M566.8789,29 C566.8789,39 584.8789,39 584.8789,39 C584.8789,39 602.8789,39 602.8789,29 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="548.4785" y="534.0967">Database</text><path d="M566.8789,547.3984 C566.8789,537.3984 584.8789,537.3984 584.8789,537.3984 C584.8789,537.3984 602.8789,537.3984 602.8789,547.3984 L602.8789,573.3984 C602.8789,583.3984 584.8789,583.3984 584.8789,583.3984 C584.8789,583.3984 566.8789,583.3984 566.8789,573.3984 L566.8789,547.3984 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M566.8789,547.3984 C566.8789,557.3984 584.8789,557.3984 584.8789,557.3984 C584.8789,557.3984 602.8789,557.3984 602.8789,547.3984 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="159.3374,108.4297,169.3374,112.4297,159.3374,116.4297,163.3374,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.9551" x2="165.3374" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.3823" x="55.9551" y="107.3638">sendMessage()</text><polygon fill="#181818" points="354.356,137.5625,364.356,141.5625,354.356,145.5625,358.356,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="171.3374" x2="360.356" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.0186" x="178.3374" y="136.4966">validateMessageContent()</text><path d="M10,156.5625 L74.4429,156.5625 L74.4429,163.6953 L64.4429,173.6953 L10,173.6953 L10,156.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="348.5391" style="stroke:#000000;stroke-width:1.5;" width="631.2793" x="10" y="156.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="169.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98.667" x="89.4429" y="168.7729">[valid message]</text><polygon fill="#181818" points="572.8789,190.8281,582.8789,194.8281,572.8789,198.8281,576.8789,194.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="366.356" x2="578.8789" y1="194.8281" y2="194.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.4541" x="373.356" y="189.7622">findUser()</text><polygon fill="#181818" points="377.356,204.8281,367.356,208.8281,377.356,212.8281,373.356,208.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="371.356" x2="583.8789" y1="208.8281" y2="208.8281"/><path d="M20,223.8281 L84.4429,223.8281 L84.4429,230.9609 L74.4429,240.9609 L20,240.9609 L20,223.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="231.4688" style="stroke:#000000;stroke-width:1.5;" width="611.2793" x="20" y="223.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="236.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.3491" x="99.4429" y="236.0386">[receiver user exists]</text><polygon fill="#181818" points="488.7988,258.0938,498.7988,262.0938,488.7988,266.0938,492.7988,262.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="366.356" x2="494.7988" y1="262.0938" y2="262.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.6719" x="373.356" y="257.0278">createMessage()</text><polygon fill="#181818" points="377.356,287.2266,367.356,291.2266,377.356,295.2266,373.356,291.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="371.356" x2="499.7988" y1="291.2266" y2="291.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4429" x="383.356" y="286.1606">setTextContent()</text><line style="stroke:#181818;stroke-width:1;" x1="366.356" x2="408.356" y1="320.3594" y2="320.3594"/><line style="stroke:#181818;stroke-width:1;" x1="408.356" x2="408.356" y1="320.3594" y2="333.3594"/><line style="stroke:#181818;stroke-width:1;" x1="367.356" x2="408.356" y1="333.3594" y2="333.3594"/><polygon fill="#181818" points="377.356,329.3594,367.356,333.3594,377.356,337.3594,373.356,333.3594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.4058" x="373.356" y="315.2935">send()</text><polygon fill="#181818" points="572.8789,358.4922,582.8789,362.4922,572.8789,366.4922,576.8789,362.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="366.356" x2="578.8789" y1="362.4922" y2="362.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5508" x="373.356" y="357.4263">saveMessage()</text><polygon fill="#181818" points="377.356,372.4922,367.356,376.4922,377.356,380.4922,373.356,376.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="371.356" x2="583.8789" y1="376.4922" y2="376.4922"/><polygon fill="#181818" points="182.3374,386.4922,172.3374,390.4922,182.3374,394.4922,178.3374,390.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="176.3374" x2="365.356" y1="390.4922" y2="390.4922"/><polygon fill="#181818" points="59.9551,400.4922,49.9551,404.4922,59.9551,408.4922,55.9551,404.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="53.9551" x2="170.3374" y1="404.4922" y2="404.4922"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="631.2793" y1="413.4922" y2="413.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183.5464" x="25" y="423.7026">[receiver user does not exist]</text><polygon fill="#181818" points="182.3374,429.2969,172.3374,433.2969,182.3374,437.2969,178.3374,433.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="176.3374" x2="365.356" y1="433.2969" y2="433.2969"/><polygon fill="#181818" points="59.9551,443.2969,49.9551,447.2969,59.9551,451.2969,55.9551,447.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="53.9551" x2="170.3374" y1="447.2969" y2="447.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="641.2793" y1="463.2969" y2="463.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110.2686" x="15" y="473.5073">[invalid message]</text><polygon fill="#181818" points="182.3374,479.1016,172.3374,483.1016,182.3374,487.1016,178.3374,483.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="176.3374" x2="365.356" y1="483.1016" y2="483.1016"/><polygon fill="#181818" points="59.9551,493.1016,49.9551,497.1016,59.9551,501.1016,55.9551,497.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="53.9551" x2="170.3374" y1="497.1016" y2="497.1016"/><!--SRC=[dP8nRiCm34LtdO9ZE-G27hAqGD2XKvC3i18R273fG6AD7B-ahAGMeZP0FTdyvFlVbD3BbE2GARaJ9ea-df05TeUNvlkLSiOZlL6QewUUv08AlcCcUAulpXaMDbkZ3P29G-rzU7HQCgNb3Z3Z61L4jVuqiH2BzZiSPL7Xing2Fksy4I_k0tn43fP0fwtr8i3cnhVePf38Kvmrz9SbftFCaelOzwgL0NoYdz3LRpNIiRHzo9xESlr5k6-qckLmQzFTGiQv4-oFPVoUOpd9groEK6lbybY1HWMsAmmJPU19bbt-dyp15Nha-tTW1Mj02la6]--></g></svg>